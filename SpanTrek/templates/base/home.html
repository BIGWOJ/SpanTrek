{%extends 'base/base.html'%} {%load static%} {% block styles %}
{{ block.super }}
<link rel="stylesheet" type="text/css" href="{% static 'styles/base/home.css' %}" />
<script src="{% static 'scripts/base/home.js' %}"></script>
{% endblock styles %} {%block content%}

<div class="hero-section">
    <div class="hero-content">
        <div class="welcome-card">
            <div class="streak-info">
                {% if user.days_streak != 0 %}
                <div class="streak-flame">🔥</div>
                <span class="streak-count">{{ user.days_streak }}</span>
                <span class="streak-text">
                    {% if user.days_streak > 1 %} days streak {% else %} day
                    streak {% endif %}
                </span>
                {% else %}
                <span class="streak-count">Start your daily streak!</span>
                {% endif %}
            </div>
            <h1 class="welcome-title">¡Hola, {{ user.username }}!</h1>
        </div>
    </div>
</div>

<div class="main-content">
    <div class="progress-section">
        <div class="level-card">
            <div class="level-info">
                <h3>Current level</h3>
                <div class="level-badge">
                    <span class="level-number">{{user.level}}</span>
                    <span class="level-name">//level name//</span>
                </div>
            </div>
            <div class="xp-info">
                <span class="xp-text">{{user.experience}} XP</span>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 65%"></div>
                </div>
                <span class="next-level">XXX levels to //next level name//</span>
            </div>
        </div>
    </div>

    <div class="main-course-section">
        <h2 class="section-title">Spanish Trek</h2>
        <div class="main-course-card">
            <a href="{% url 'lessons:world_map' %}" class="lesson-card-link">
                <div class="lesson-card current main-lesson">
                    <div class="lesson-icon active">🗺️</div>
                    <h4>Main adventure</h4>
                    <div class="lesson-progress">
                        <div class="stars">⭐⭐☆</div>
                        <span class="completion">{{ user.adventure_progress }} / {{ all_lessons_count }}
                            completed</span>
                    </div>
                    <span class="continue-btn">Continue adventure</span>
                </div>
            </a>
        </div>
    </div>

    <div class="review-section">
        <h2 class="section-title">Review & practice</h2>
        <div class="lessons-grid">
            {% if user.words_learned|length > 0 or user.sentences_learned|length > 0 or user.audio_learned|length > 0 %}
            <a href="{% url 'practice:practice_intro' 'random' %}" class="lesson-card-link">
                <div class="lesson-card">
                    <div class="lesson-icon">🎲</div>
                    <h4>Random</h4>
                </div>
            </a>
            {%else%}
            <div class="lesson-card locked">
                <div class="lesson-icon">🎲</div>
                <h4>Random</h4>
                <p class="lock-text">Start SpanTrek adventure to unlock practice</p>
            </div>
            {% endif %}
            {% if user.words_learned|length > 0 %}
            <a href="{% url 'practice:practice_intro' 'vocabulary' %}" class="lesson-card-link">
                <div class="lesson-card">
                    <div class="lesson-icon">📚</div>
                    <h4>Vocabulary</h4>
                </div>
            </a>
            {% else %}
            <div class="lesson-card locked">
                <div class="lesson-icon">📚</div>
                <h4>Vocabulary</h4>
                <p class="lock-text">Learn some vocabularies first to unlock practice</p>
            </div>
            {% endif %}

            {% if user.sentences_learned|length > 0 %}
            <a href="{% url 'practice:practice_intro' 'sentence' %}" class="lesson-card-link">
                <div class="lesson-card">
                    <div class="lesson-icon">📖</div>
                    <h4>Sentences</h4>
                </div>
            </a>
            {% else %}
            <div class="lesson-card locked">
                <div class="lesson-icon">📖</div>
                <h4>Sentences</h4>
                <p class="lock-text">Learn some sentences first to unlock practice</p>
            </div>
            {% endif %}

            {% if user.audio_learned|length > 0 %}
            <a href="{% url 'practice:practice_intro' 'listening' %}" class="lesson-card-link">
                <div class="lesson-card">
                    <div class="lesson-icon">👂🏻</div>
                    <h4>Listening</h4>
                </div>
            </a>
            {% else %}
            <div class="lesson-card locked">
                <div class="lesson-icon">👂🏻</div>
                <h4>Listening</h4>
                <p class="lock-text">Learn some audio first to unlock practice</p>
            </div>
            {% endif %}
        </div>

        <div class="daily-challenge">
            <div class="challenge-card">
                <div class="challenge-header">
                    <h3>Daily challenge</h3>
                    <div class="challenge-reward">+50 XP</div>
                </div>
                <p class="challenge-text">
                    Complete 3 lessons today to earn bonus XP!
                </p>
                <div class="challenge-progress">
                    <div class="challenge-steps">
                        <div class="step completed">1</div>
                        <div class="step completed">2</div>
                        <div class="step">3</div>
                    </div>
                    <span class="challenge-status">2/3 completed</span>
                </div>
            </div>
        </div>
    </div>
</div>
{%endblock content%}